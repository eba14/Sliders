#puzzle-container,
#goal-container {
  display: grid;
  grid-template-columns: repeat(var(--puzzle-size), var(--tile-size));
  grid-template-rows: repeat(var(--puzzle-size), var(--tile-size));
  width: fit-content;
  height: fit-content;
  border: 2px solid rgba(220, 20, 60, 0.3);
  border-radius: 8px;
  margin: 5px auto;
  padding: 5px;
  gap: var(--gap-size);
  background: rgba(0, 0, 0, 0.2);
  box-shadow: inset 0 0 10px rgba(220, 20, 60, 0.1), 0 4px 15px rgba(0, 0, 0, 0.3);
  justify-content: center;
  align-content: center;
}

.puzzle-tile {
  background: linear-gradient(145deg, var(--tile-color), var(--tile-color-dark));
  cursor: pointer;
  width: var(--tile-size);
  height: var(--tile-size);
  border: 2px solid var(--primary-red);
  display: flex;
  justify-content: center;
  align-items: center;
  font-size: var(--font-size);
  font-weight: 700;
  transition: filter 0.2s ease, border-color 0.2s ease, box-shadow 0.2s ease;
  border-radius: 8px;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.2);
  color: var(--black);
  position: relative;
}

.puzzle-tile.sliding {
  transition: transform 0.2s cubic-bezier(0.25, 0.46, 0.45, 0.94);
  z-index: 10;
}

.puzzle-tile:hover:not(.empty-tile) {
  filter: brightness(1.3);
  border-color: var(--light-red);
  box-shadow: 0 4px 15px rgba(220, 20, 60, 0.3);
}

.puzzle-tile:active:not(.empty-tile) {
  filter: brightness(0.95);
  box-shadow: 0 2px 8px rgba(0, 0, 0, 0.3);
}

.empty-tile {
  background: rgba(220, 20, 60, 0.05) !important;
  border: 2px dashed rgba(220, 20, 60, 0.3) !important;
  cursor: default !important;
  box-shadow: inset 0 0 15px rgba(220, 20, 60, 0.1) !important;
  pointer-events: none;
}

.goal-tile {
  background: linear-gradient(145deg, #2a2a2a, #1e1e1e);
  cursor: default;
  width: var(--tile-size);
  height: var(--tile-size);
  border: 2px solid rgba(220, 20, 60, 0.2);
  display: flex;
  justify-content: center;
  align-items: center;
  font-size: var(--font-size);
  font-weight: 700;
  border-radius: 8px;
  box-shadow: inset 0 2px 6px rgba(0, 0, 0, 0.3);
  color: var(--primary-red);
}